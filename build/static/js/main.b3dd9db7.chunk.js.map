{"version":3,"sources":["redux/operations.js","redux/auth/auth-operations.js","redux/actions.js","components/contacts.module.css","redux/auth/auth-selectors.js","components/AuthNav.js","components/NavBar.js","components/Navigation.js","components/PrivateRoute.js","components/PublicRoute.js","App.js","redux/reducers.js","redux/auth/auth-slice.js","redux/store.js","index.js"],"names":["axios","defaults","baseURL","getThunkData","createAsyncThunk","_","a","rejectWithValue","get","data","message","addThunkData","contact","post","deleteThunkData","contactId","delete","id","token","headers","common","Authorization","logIn","credentials","logOut","register","currentUser","thunkAPI","state","getState","persistedToken","auth","console","log","changeFilter","createAction","module","exports","getIsLoggedIn","isLoggedIn","getIsCurrentUser","isCurrentUser","AuthNav","className","s","navList","navItem","to","navLink","activeClassName","activeNavLink","NavBar","exact","type","btn","Navigation","useSelector","header","PrivateRoute","children","redirectTo","routeProps","PublicRoute","restricted","shouldRedirect","ContactsPage","lazy","RegisterPage","LoginPage","App","dispatch","useDispatch","useEffect","fallback","path","contactSlice","createSlice","name","initialState","loading","error","extraReducers","pending","action","fulfilled","payload","rejected","filter","filterReducer","createReducer","authSlice","user","email","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","authPersistConfig","key","storage","whitelist","store","configureStore","reducer","persistReducer","contacts","devTools","process","persistor","persistStore","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.b3dd9db7.chunk.js","sourcesContent":["import { createAsyncThunk } from '@reduxjs/toolkit';\nimport axios from 'axios';\n\naxios.defaults.baseURL = \"https://connections-api.herokuapp.com\";\n\nexport const getThunkData = createAsyncThunk('getContact',\n  async (_, { rejectWithValue }) => {\n    try {\n      const { data } = await axios.get('/contacts');\n      return data;\n    } catch (err) {\n      return rejectWithValue(err.message);\n    }\n  },\n);\n\nexport const addThunkData = createAsyncThunk('addContact',\n  async (contact, { rejectWithValue }) => {\n    try {\n      const { data } = await axios.post('/contacts', contact);\n      return data;\n    }\n    catch (err) {\n      return rejectWithValue(err.message);\n    }\n  },\n);\n\nexport const deleteThunkData = createAsyncThunk('deleteContact',\n  async (contactId, { rejectWithValue }) => { \n    try {\n      const { data: { id } } = await axios.delete(`/contacts/${contactId}`);\n      return id;\n     }\n    catch (err)\n    {\n     return rejectWithValue(err.message); \n    }\n  });","import axios from 'axios';\nimport { createAsyncThunk } from '@reduxjs/toolkit';\n\naxios.defaults.baseURL = 'https://connections-api.herokuapp.com';\n\nexport const token = {\n  set(token) {\n    axios.defaults.headers.common.Authorization = `Bearer ${token}`;\n  },\n  unset() {\n    axios.defaults.headers.common.Authorization = '';\n  },\n};\n\nexport const logIn = createAsyncThunk('auth/login', async (credentials,  { rejectWithValue }) => {\n  try {\n    const { data } = await axios.post('/users/login', credentials);\n    token.set(data.token);\n    return data;\n  } catch (err) {\n    return rejectWithValue(err.message);\n  }\n});\n\nexport const logOut = createAsyncThunk('auth/logout', async (_,  { rejectWithValue }) => {\n  try {\n    await axios.post('/users/logout');\n    token.unset();\n  } catch (err) {\n    return rejectWithValue(err.message);\n  }\n});\n\nexport const register = createAsyncThunk('auth/register', async (credentials,  { rejectWithValue }) => {\n  try {\n    const { data } = await axios.post('/users/signup', credentials);\n    token.set(data.token);\n    return data;\n  } catch (err) {\n    return rejectWithValue(err.message);\n  }\n});\n\nexport const currentUser = createAsyncThunk(\n  'auth/refresh',\n  async (_, thunkAPI) => {\n    const state = thunkAPI.getState();\n    const persistedToken = state.auth.token;\n\n    if (persistedToken === null) {\n      console.log('No token');\n      return thunkAPI.rejectWithValue();\n    }\n\n    token.set(persistedToken);\n    try {\n      const { data } = await axios.get('/users/current');\n      return data;\n    } catch (err) {\n      return thunkAPI.rejectWithValue();\n    }\n  },\n);\n\n","import { createAction } from '@reduxjs/toolkit';\n\nexport const changeFilter = createAction('changeFilter');","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"contacts_title__3KfmP\",\"form\":\"contacts_form__2skxG\",\"input\":\"contacts_input__1nuNS\",\"btn\":\"contacts_btn__1JbCg\",\"btnDelete\":\"contacts_btnDelete__3diS_\",\"list\":\"contacts_list__2PGH1\",\"label\":\"contacts_label__1INRo\",\"navList\":\"contacts_navList__oMJrX\",\"navItem\":\"contacts_navItem__BCKOT\",\"navLink\":\"contacts_navLink__Am-XV\",\"activeNavLink\":\"contacts_activeNavLink__1Oj3P\",\"header\":\"contacts_header__1jwPa\"};","export const getIsLoggedIn = state => state.auth.isLoggedIn;\nexport const getUsername = state => state.auth.user.name;\nexport const getIsCurrentUser = state => state.auth.isCurrentUser;","import { NavLink } from 'react-router-dom';\nimport s from \"./contacts.module.css\";\n\nexport default function AuthNav() {\n  return (\n    <nav>\n      <ul className={s.navList}>\n        <li className={s.navItem}>\n          <NavLink\n            to=\"/login\"\n            className={s.navLink}\n            activeClassName={s.activeNavLink}\n          >\n            Login\n          </NavLink>\n        </li>\n        <li className={s.navItem}>\n          <NavLink\n            to=\"/register\"\n            className={s.navLink}\n            activeClassName={s.activeNavLink}\n          >\n            Register\n          </NavLink>\n        </li>\n      </ul>\n    </nav>\n  );\n}","import { NavLink } from 'react-router-dom';\nimport s from \"./contacts.module.css\";\n\nexport default function NavBar() {\n  return (\n    <nav>\n      <NavLink\n        exact\n        to=\"/\"\n        className={s.navLink}\n        activeClassName={s.activeNavLink}\n      >\n        Contacts\n      </NavLink>\n      <button type='button' className={s.btn}>Log out</button>\n    </nav>\n  );\n}","import s from \"./contacts.module.css\";\nimport { getIsLoggedIn } from '../redux/auth/auth-selectors';\nimport { useSelector } from 'react-redux';\nimport AuthNav from './AuthNav';\nimport NavBar from './NavBar';\n\n\nexport default function Navigation() {\n\n  const isLoggedIn = useSelector(getIsLoggedIn);\n  return (\n    <header className={s.header}>\n        { isLoggedIn ? <NavBar/> : <AuthNav/>}\n    </header>\n  );\n}","import { useSelector } from 'react-redux';\nimport { Route, Redirect } from 'react-router-dom';\nimport { getIsLoggedIn } from '../redux/auth/auth-selectors';\n\nexport default function PrivateRoute({\n  children,\n  redirectTo = '/',\n  ...routeProps\n}) {\n  const isLoggedIn = useSelector(getIsLoggedIn);\n  return (\n    <Route {...routeProps}>\n      {isLoggedIn ? children : <Redirect to={redirectTo} />}\n    </Route>\n  );\n}","import { useSelector } from 'react-redux';\nimport { Route, Redirect } from 'react-router-dom';\nimport { getIsLoggedIn } from '../redux/auth/auth-selectors';\n\nexport default function PublicRoute({\n  children,\n  restricted = false,\n  redirectTo = '/',\n  ...routeProps\n}) {\n  const isLoggedIn = useSelector(getIsLoggedIn);\n  const shouldRedirect = isLoggedIn && restricted;\n  return (\n    <Route {...routeProps}>\n      {shouldRedirect ? <Redirect to={redirectTo} /> : children}\n    </Route>\n  );\n}","import \"./App.css\";\nimport style from \"./components/contacts.module.css\";\nimport { Switch } from 'react-router-dom';\nimport { useEffect, Suspense, lazy } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport Navigation from './components/Navigation';\nimport PrivateRoute from './components/PrivateRoute';\nimport PublicRoute from './components/PublicRoute';\nimport { getIsCurrentUser } from './redux/auth/auth-selectors';\nimport { currentUser } from './redux/auth/auth-operations';\n\nconst ContactsPage = lazy(() => import('./pages/Contacts'));\nconst RegisterPage = lazy(() => import('./pages/Register'));\nconst LoginPage = lazy(() => import('./pages/Login'));\n\nexport default function App() {\n  const dispatch = useDispatch();\n  const isCurrentUser = useSelector(getIsCurrentUser);\n\n  useEffect(() => {\n    dispatch(currentUser());\n  }, [dispatch]);\n\n  return (\n    <div className=\"App\">\n      <Navigation />\n      <Suspense fallback={<p>Загружаем...</p>}>\n        <Switch>\n          <PrivateRoute exact path=\"/contacts\">\n            <ContactsPage />\n          </PrivateRoute>\n          <PublicRoute exact path=\"/register\" restricted>\n            <RegisterPage />\n          </PublicRoute>\n          <PublicRoute exact path=\"/login\" restricted>\n            <LoginPage />\n          </PublicRoute>\n          {/* redirectTo=\"/contacts\" */}\n        </Switch>\n      </Suspense>\n    </div>\n  );\n}\n","import { createReducer, createSlice } from '@reduxjs/toolkit';\nimport { changeFilter } from './actions';\nimport { getThunkData, addThunkData, deleteThunkData } from './operations';\n\nconst contactSlice = createSlice({\n  name: 'phonebook',\n  initialState: {\n    contact: [],\n    loading: false,\n    error: null,\n  },\n  extraReducers: {\n    [getThunkData.pending]: (state, action) => ({\n        ...state,\n        loading: true,\n    }),\n    [getThunkData.fulfilled]: (state, action) => ({\n        ...state,\n        contact: action.payload,\n        loading: false,\n    }),\n    [getThunkData.rejected]: (state, action) => ({\n        ...state,\n        loading: false,\n        error: action.payload,\n    }),\n    [addThunkData.pending]: (state, action) => {\n      return {\n        ...state,\n        loading: true,\n      };\n    },\n    [addThunkData.fulfilled]: (state, action) => {\n      return {\n        ...state,\n        contact: [...state.contact, action.payload],\n        loading: false,\n      };\n    },\n    [addThunkData.rejected]: (state, action) => {\n      return {\n        ...state,\n        loading: false,\n        error: action.payload,\n      };\n    },\n    [deleteThunkData.pending]: (state, action) => ({\n        ...state,\n        loading: true,\n    }),\n    [deleteThunkData.fulfilled]: (state, action) => ({\n      ...state,\n      contact: state.contact.filter(({ id }) => id !== action.payload),\n      loading: false,\n    }),\n    [deleteThunkData.rejected]: (state, action) => ({\n        ...state,\n        loading: false,\n        error: action.payload,\n    }),\n  }\n});\nexport default contactSlice.reducer;\n\nexport const filterReducer = createReducer('', {\n  [changeFilter]: (_, action) => action.payload,\n});","import { createSlice } from '@reduxjs/toolkit';\nimport { register, logIn, logOut, currentUser } from './auth-operations';\n\nconst initialState = {\n  user: { name: null, email: null },\n  token: null,\n  isLoggedIn: false,\n  isCurrentUser: false,\n};\n\nconst authSlice = createSlice({\n  name: 'auth',\n  initialState,\n  extraReducers: {\n    [register.fulfilled](state, action) {\n      state.user = action.payload.user;\n      state.token = action.payload.token;\n      state.isLoggedIn = true;\n    },\n    [logIn.fulfilled](state, action) {\n      state.user = action.payload.user;\n      state.token = action.payload.token;\n      state.isLoggedIn = true;\n    },\n    [logOut.fulfilled](state) {\n      state.user = { name: null, email: null };\n      state.token = null;\n      state.isLoggedIn = false;\n    },\n    [currentUser.pending](state) {\n      state.isCurrentUser = true;\n    },\n    [currentUser.fulfilled](state, action) {\n      state.user = action.payload;\n      state.isLoggedIn = true;\n      state.isCurrentUser = false;\n    },\n    [currentUser.rejected](state) {\n      state.isCurrentUser = false;\n    },\n  },\n});\n\nexport default authSlice.reducer;","import { configureStore, getDefaultMiddleware } from '@reduxjs/toolkit';\nimport storage from 'redux-persist/lib/storage';\nimport contactSlice, { filterReducer } from './reducers';\nimport authSlice from './auth/auth-slice';\nimport {\n  persistStore,\n  persistReducer,\n  FLUSH,\n  REHYDRATE,\n  PAUSE,\n  PERSIST,\n  PURGE,\n  REGISTER,\n} from 'redux-persist';\n\nconst middleware = [\n  ...getDefaultMiddleware({\n    serializableCheck: {\n      ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\n    },\n  }),\n];\n\nconst authPersistConfig = {\n  key: 'auth',\n  storage,\n  whitelist: ['token'],\n};\n\nexport const store = configureStore({\n  reducer: {\n    auth: persistReducer(authPersistConfig, authSlice),\n    contacts: contactSlice,\n    filter: filterReducer,\n  },\n  middleware,\n  // middleware: (getDefaultMiddleware) => getDefaultMiddleware().concat(logger),\n  devTools: process.env.NODE_ENV === 'development',\n});\n\nexport const persistor = persistStore(store);\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport { Provider } from 'react-redux';\nimport { BrowserRouter } from 'react-router-dom';\nimport { PersistGate } from 'redux-persist/integration/react';\nimport { store, persistor } from './redux/store';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <PersistGate loading={null} persistor={persistor}>\n        <BrowserRouter>\n          <App />\n        </BrowserRouter>\n      </PersistGate>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}