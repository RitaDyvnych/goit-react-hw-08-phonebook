{"version":3,"sources":["components/contacts.module.css","redux/operations.js","redux/selectors.js","components/Form.js","components/ContactList.js","redux/actions.js","components/Filter.js","App.js","redux/reducers.js","redux/store.js","index.js"],"names":["module","exports","axios","defaults","baseURL","getThunkData","createAsyncThunk","_","a","rejectWithValue","get","data","message","addThunkData","contact","post","deleteThunkData","contactId","delete","id","getContact","state","contacts","getFilteredContacts","createSelector","filter","items","el","name","toLowerCase","includes","Form","useState","setName","number","setNumber","useSelector","dispatch","useDispatch","handleChangeInput","e","target","value","className","style","form","onSubmit","preventDefault","find","alert","input","autoComplete","type","pattern","title","required","onChange","btn","ContactList","filterContacts","useEffect","list","map","listItem","btnDelete","onClick","changeFilter","createAction","Filter","htmlFor","label","App","contactSlice","createSlice","initialState","loading","error","extraReducers","pending","action","fulfilled","payload","rejected","filterReducer","createReducer","store","configureStore","reducer","middleware","getDefaultMiddleware","concat","logger","devTools","process","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.d64f7ce1.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"contacts_title__3KfmP\",\"form\":\"contacts_form__2skxG\",\"input\":\"contacts_input__1nuNS\",\"btn\":\"contacts_btn__1JbCg\",\"btnDelete\":\"contacts_btnDelete__3diS_\",\"list\":\"contacts_list__2PGH1\",\"label\":\"contacts_label__1INRo\"};","import { createAsyncThunk } from '@reduxjs/toolkit';\nimport axios from 'axios';\n\naxios.defaults.baseURL = \"https://6197549daf46280017e7e535.mockapi.io\";\n\nexport const getThunkData = createAsyncThunk('getContact',\n  async (_, { rejectWithValue }) => {\n    try {\n      const { data } = await axios.get('/contacts');\n      return data;\n    } catch (err) {\n      return rejectWithValue(err.message);\n    }\n  },\n);\n\nexport const addThunkData = createAsyncThunk('addContact',\n  async (contact, { rejectWithValue }) => {\n    try {\n      const { data } = await axios.post('/contacts', contact);\n      return data;\n    }\n    catch (err) {\n      return rejectWithValue(err.message);\n    }\n  },\n);\n\nexport const deleteThunkData = createAsyncThunk('deleteContact',\n  async (contactId, { rejectWithValue }) => { \n    try {\n      const { data: { id } } = await axios.delete(`/contacts/${contactId}`);\n      return id;\n     }\n    catch (err)\n    {\n     return rejectWithValue(err.message); \n    }\n  });","import { createSelector } from '@reduxjs/toolkit';\n\nexport const getContact = state => state.contacts.contact;\nexport const getFilter = state => state.filter;\n\nexport const getFilteredContacts = createSelector(\n    [getContact, getFilter],\n    (items, filter) =>\n        items.filter((el) =>\n            el.name.toLowerCase().includes(filter.toLowerCase()),\n        ),\n);","import React, { useState } from \"react\";\nimport { useDispatch, useSelector } from 'react-redux';\nimport { addThunkData } from '../redux/operations';\nimport { getContact } from '../redux/selectors';\nimport style from \"./contacts.module.css\";\n\nexport default function Form() {\n  const [name, setName] = useState(\"\");\n  const [number, setNumber] = useState(\"\");\n  const contacts = useSelector(getContact);\n  const dispatch = useDispatch();\n  \n  \n  const handleChangeInput = (e) => {\n   if (e.target.name === 'name') {\n      setName(e.target.value);\n    } else if (e.target.name === 'number') {\n      setNumber(e.target.value);\n    }\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    if (contacts.find(contact => contact.name.toLowerCase() === name.toLowerCase())) {\n      alert(`${name} is already in contacts.`);\n    } else {\n      dispatch(addThunkData({ name, number }));\n      setName(\"\");\n      setNumber(\"\");\n    }\n  };\n\n  return (\n      <>\n        <form\n          className={style.form}\n          onSubmit={handleSubmit}\n        >\n          <label>Name</label>\n          <input\n          className={style.input}\n            value={name}\n            autoComplete=\"off\"\n            type=\"text\"\n            name=\"name\"\n            pattern=\"^[a-zA-Zа-яА-Я]+(([' -][a-zA-Zа-яА-Я ])?[a-zA-Zа-яА-Я]*)*$\"\n            title=\"Имя может состоять только из букв, апострофа, тире и пробелов. Например Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan и т. п.\"\n            required\n            onChange={handleChangeInput}\n          />\n          <label>Number</label>\n          <input\n            className={style.input}\n          value={number}\n            autoComplete=\"off\"\n            type=\"tel\"\n            name=\"number\"\n            pattern=\"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}\"\n            title=\"Номер телефона должен состоять цифр и может содержать пробелы, тире, круглые скобки и может начинаться с +\"\n            required\n            onChange={handleChangeInput}\n          />\n          <button type=\"submit\" className={style.btn}>\n            Add contact\n          </button>\n        </form>\n      </>\n    );\n\n}\n","import React, { useEffect } from \"react\";\nimport style from \"./contacts.module.css\";\nimport { useSelector, useDispatch } from 'react-redux';\nimport { getThunkData, deleteThunkData } from '../redux/operations';\nimport { getFilteredContacts } from '../redux/selectors';\n\n\nexport default function ContactList() {\n\n  const dispatch = useDispatch();\n  const filterContacts = useSelector(getFilteredContacts);\n\n  useEffect(() => {\n    dispatch(getThunkData());\n  }, [dispatch]);\n\n  return (\n      <ul className={style.list}>\n      {filterContacts.map((el) => (\n          <li className={style.listItem} key={el.id}>\n            {el.name}: {el.number}\n            <button\n              type=\"button\"\n              className={style.btnDelete}\n              id={el.id}\n              onClick={()=>dispatch(deleteThunkData(el.id))}\n            >\n              Delete\n            </button>\n          </li>\n        ))}\n      </ul>\n    );\n}","import { createAction } from '@reduxjs/toolkit';\n\nexport const changeFilter = createAction('changeFilter');","import React from \"react\";\nimport style from \"./contacts.module.css\";\nimport { changeFilter } from '../redux/actions';\nimport { useDispatch } from 'react-redux';\n\nexport default function Filter() {\n  \n  const dispatch = useDispatch();\n\n  return (\n      <>\n        <label htmlFor=\"find\" className={style.label}>\n          Find contacts by name\n        </label>\n      <input\n        className={style.input}\n        autoComplete=\"off\"\n        id=\"find\"\n        type=\"text\"\n        name=\"name\"\n        pattern=\"^[a-zA-Zа-яА-Я]\"\n        onChange={(e) => {\n          e.preventDefault();\n          dispatch(changeFilter(e.target.value.toLowerCase()));\n        }}\n        ></input>\n      </>\n    );\n}\n","import \"./App.css\";\nimport style from \"./components/contacts.module.css\";\nimport Form from \"./components/Form\";\nimport ContactList from \"./components/ContactList\";\nimport Filter from \"./components/Filter\";\n\nexport default function App() {\n  return (\n      <div className=\"App\">\n        <h1 className={style.title}>Phonebook</h1>\n        <Form />\n        <h2 className={style.title}>Contacts</h2>\n        <Filter />\n        <ContactList />\n      </div>\n    );\n}\n","import { createReducer, createSlice } from '@reduxjs/toolkit';\nimport { changeFilter } from './actions';\nimport { getThunkData, addThunkData, deleteThunkData } from './operations';\n\nconst contactSlice = createSlice({\n  name: 'phonebook',\n  initialState: {\n    contact: [],\n    loading: false,\n    error: null,\n  },\n  extraReducers: {\n    [getThunkData.pending]: (state, action) => ({\n        ...state,\n        loading: true,\n    }),\n    [getThunkData.fulfilled]: (state, action) => ({\n        ...state,\n        contact: action.payload,\n        loading: false,\n    }),\n    [getThunkData.rejected]: (state, action) => ({\n        ...state,\n        loading: false,\n        error: action.payload,\n    }),\n    [addThunkData.pending]: (state, action) => {\n      return {\n        ...state,\n        loading: true,\n      };\n    },\n    [addThunkData.fulfilled]: (state, action) => {\n      return {\n        ...state,\n        contact: [...state.contact, action.payload],\n        loading: false,\n      };\n    },\n    [addThunkData.rejected]: (state, action) => {\n      return {\n        ...state,\n        loading: false,\n        error: action.payload,\n      };\n    },\n    [deleteThunkData.pending]: (state, action) => ({\n        ...state,\n        loading: true,\n    }),\n    [deleteThunkData.fulfilled]: (state, action) => ({\n      ...state,\n      contact: state.contact.filter(({ id }) => id !== action.payload),\n      loading: false,\n    }),\n    [deleteThunkData.rejected]: (state, action) => ({\n        ...state,\n        loading: false,\n        error: action.payload,\n    }),\n  }\n});\nexport default contactSlice.reducer;\n\nexport const filterReducer = createReducer('', {\n  [changeFilter]: (_, action) => action.payload,\n});","import { configureStore } from '@reduxjs/toolkit';\nimport logger from 'redux-logger';\nimport contactSlice, { filterReducer } from './reducers';\n\n\nconst store = configureStore({\n  reducer: {\n    contacts: contactSlice,\n    filter: filterReducer,\n  },\n  middleware: (getDefaultMiddleware) => getDefaultMiddleware().concat(logger),\n  devTools: process.env.NODE_ENV === 'development',\n});\n\nexport default store;","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport { Provider } from 'react-redux';\nimport store from './redux/store';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}